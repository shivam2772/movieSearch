!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){const n=`<div class="col-sm-3 card" style="width: 18rem; height: 297px; background: black;">\n                <img src="https://image.tmdb.org/t/p/w500/${e}">\n                 <div class="card-body" style="padding-top: 10px; padding-bottom: 0px;">\n                 <button id="movie_${t}" type="button" style="float: right; background: indianred; border-radius: 5px;">Add</button>      \n                 </div>    \n            </div>`;document.getElementById("searchCardList").insertAdjacentHTML("beforeend",n)}function l(e){$("#myModal").modal("toggle"),document.getElementById("createPlaylistBtn").onclick=function(){s(e)},document.getElementById("playlistGroup").onclick=function(t){u(a(t).innerHTML,e)},document.getElementById("newPlaylistInput").value=" "}function i(e){const t=document.getElementById("myListCollection");t.innerHTML="";const n=document.getElementById("editBtn");n.style.display="inline-block",document.getElementById("searchCardList").innerHTML=" ",document.getElementById("myCollectionDisplay").innerHTML=" ";for(let n=0;n<r[e].arrayName.length;n+=1){const o=`<div class="col-sm-3 card myList" style="width: 18rem; height: 297px; background: black;">\n                <img src="${r[e].arrayName[n]}">\n                 <div class="card-body" style="padding-top: 10px; padding-bottom: 0px;">\n                    <button type="button" style="float: right; background: indianred; border-radius: 5px;" id="openMyList_${e}_${n}">Remove</button>      \n                 </div>    \n            </div>`;t.insertAdjacentHTML("beforeend",o);const l=document.getElementById(`openMyList_${e}_${n}`);l.onclick=(()=>{y(l.id.slice(-1),e)})}n.setAttribute("onclick","performEditMode()")}function d(e){const t=document.getElementById("myCollectionDisplay"),n=`<div class="col-sm-3 card" style="width: 18rem; height: 297px; background: black;">\n                <img src="${r[e].arrayName[0]}" id="myCollectionListImage_${e}">\n                 <div class="card-body" style="padding-top: 10px; padding-bottom: 0px;">\n                    <button type="button" style="float: right; background: indianred; border-radius: 5px;" id="myCollectionList_${e}">Delete List</button>      \n                 </div>    \n            </div>`;t.insertAdjacentHTML("beforeend",n),document.getElementById(`myCollectionListImage_${e}`).onclick=(()=>{i(e)}),document.getElementById(`myCollectionList_${e}`).onclick=(()=>{m(e)})}n.r(t),n.d(t,"myCollection",function(){return r}),n.d(t,"getEventTarget",function(){return a}),n.d(t,"createNewPlaylist",function(){return s}),n.d(t,"addToColletion",function(){return u}),n.d(t,"deleteList",function(){return m}),n.d(t,"deleteFromList",function(){return y});let c=[],r=[];function a(e){return(e=e||window.event).target||e.srcElement}function s(e){const t=document.getElementById("newPlaylistInput").value,n=document.getElementById("playlistGroup"),o=document.createElement("li");o.setAttribute("class","list-group-item"),o.appendChild(document.createTextNode(t)),o.setAttribute("id",t),o.setAttribute("data-dismiss","modal"),n.appendChild(o);const l={};l.name=t,l.arrayName=new Array,l.arrayName.push(c[e]),console.log(c[e]),r.push(l)}function u(e,t){console.log("add to collection was called"),console.log(c[t]),console.log(e);for(let n=0;n<r.length;n+=1)r[n].name==e&&(r[n].arrayName.push(c[t]),console.log("pushed"));console.log(r)}function m(e){const t=document.getElementById(r[e].name);t.parentNode.removeChild(t),console.log(t.innerHTML);for(let t=0;t<r.length;t+=1)e===t&&r.splice(e,1);console.log(r.length),document.getElementById("myCollectionDisplay").innerHTML=" ";for(let e=0;e<r.length;e+=1)d(e)}function y(e,t){if(r[t].arrayName.splice(e,1),console.log(r[t].arrayName.length),r[t].arrayName.length>0)i(t);else{document.getElementById("myListCollection").innerHTML="",m(t)}}$(document).ready(function(){console.log("inside ready"),$("#searchMovie").on("keyup",function(){var e=document.getElementById("searchMovie").value;if(console.log(e),null==e||""==e){document.getElementById("searchCardList").innerHTML=" ",document.getElementById("myCollectionDisplay").innerHTML=" ",document.getElementById("searchCardList").style.display="none",document.getElementById("myCollectionDisplay").style.display="flex";for(let e=0;e<r.length;e++)d(e)}else{document.getElementById("myCollectionDisplay").style.display="none",document.getElementById("searchCardList").style.display="flex";let t=document.getElementById("movieOptionsList"),n=[];fetch("https://api.themoviedb.org/3/search/movie?api_key=4b49b7bb59981b56801da00e344f82c1&language=en-US&query="+e+"&page=1&include_adult=false").then(function(e){return e.json()}).then(function(e){for(n=e.results;t.hasChildNodes();)t.removeChild(t.firstChild);document.getElementById("searchCardList").innerHTML=" ";for(let e=0;e<n.length;e++){var i=document.createElement("option");if(i.value=n[e].original_title,t.appendChild(i),null!=n[e].poster_path){let t="https://image.tmdb.org/t/p/w500"+n[e].poster_path;c.push(t),o(n[e].poster_path,e),document.getElementById(`movie_${e}`).onclick=function(){l(e)}}}}).catch(function(e){console.log("fail: "+e)})}})})}]);